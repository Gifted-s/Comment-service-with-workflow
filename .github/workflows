name: Comment Microservice With the GitHub Workflow
# This workflow is triggered on pushes to the repository and merge.
on: [push]

jobs:
  build:
    # Setup Testing Evironment, test Code then merge with master branch if it passes all tests
    name: Comment service
    # This job runs on Linux
    runs-on: ubuntu-latest
    steps:
      - name: install packages
        uses: Gifted-s/Comment-service-with-workflow
        run:  npm install
      - name: run test
        uses: Gifted-s/Comment-service-with-workflow
        run:  npm run test
      - name: switch to master
        uses: Gifted-s/Comment-service-with-workflow
        run:  git checkout master              
      - name: merge to master
        uses: Gifted-s/Comment-service-with-workflow
        run:  git merge development        